
# プロジェクト概要

このプロジェクトは、VSCode拡張機能「Code to Clipboard」です。アクティブなタブ、すべてのタブ、または指定したディレクトリからコードをクリップボードにコピーし、AI（ChatGPT、Claudeなど）と共有しやすいようにMarkdown形式でフォーマットする機能を提供します。

## 主な機能

- **現在のタブのコードをコピー**: 現在開いているファイルのコードをクリップボードにコピーします。
- **すべてのタブのコードをコピー**: 現在開いているすべてのタブのコードをクリップボードにコピーします。
- **ディレクトリのコードをコピー**: 指定したディレクトリ内のすべてのテキストファイルのコードとディレクトリ構造をクリップボードにコピーします。
- **ディレクトリツリーをコピー**: 指定したディレクトリの構造のみをクリップボードにコピーします。
- **関連ファイルを開く**: OpenAI APIを利用して、現在のファイルに関連するファイルを自動で開きます。
- **.gitignoreの尊重**: `.gitignore`ファイルで指定されたファイルをコピー対象から除外します。
- **除外パターンの設定**: ユーザーが設定で指定したパターンに一致するファイルをコピー対象から除外します。
- **文字コードの自動判別と変換**: コピー対象ファイルの文字コードを自動判別し、UTF-8に変換してクリップボードにコピーすることで、文字化けを防ぎます。

## 開発者向け情報

### ビルド方法

1. **依存関係のインストール**:

    ```bash
    npm install
    ```

2. **ビルド**:

    ```bash
    npm run compile
    ```

    または、変更を監視して自動的に再ビルドする場合:

    ```bash
    npm run watch
    ```

3. **パッケージ化**:
    リリース用の拡張機能パッケージ（`.vsix`ファイル）を作成します。

    ```bash
    npm run vsce:package
    ```

### デバッグ方法

1. **VSCodeでのデバッグ**:
    - `F5`キーを押すか、`実行とデバッグ`ビュー（`Ctrl+Shift+D`）から`Run Extension`を選択します。
    - これにより、拡張機能が有効になった新しいVSCodeウィンドウ（`[拡張機能開発ホスト]`）が起動します。
2. **テストの実行**:
    - `実行とデバッグ`ビューから`Extension Tests`を選択してテストを実行します。
    - または、コマンドラインからテストを実行します:

        ```bash
        npm test
        ```

### コマンド一覧

| コマンドID                                   | タイトル                                     | 説明                                                                 |
| -------------------------------------------- | -------------------------------------------- | -------------------------------------------------------------------- |
| `code-to-clipboard.copyCode`                 | Copy Code from All Open Tabs to Clipboard    | 開いているすべてのタブのコードをコピーします。                         |
| `code-to-clipboard.copyCurrentTabCode`       | Copy Code from Current Tab to Clipboard      | 現在のタブのコードをコピーします。                                     |
| `code-to-clipboard.copyDirectoryCode`        | Copy Directory Tree&Code to Clipboard        | ディレクトリのコードと構造をコピーします。                             |
| `code-to-clipboard.copyDirectoryTree`        | Copy Directory Tree to Clipboard             | ディレクトリ構造のみをコピーします。                                   |
| `code-to-clipboard.openRelatedFilesDepth1`   | Open Related Files                           | 関連するファイルを開きます。                                         |
